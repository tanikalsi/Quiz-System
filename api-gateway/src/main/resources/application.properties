# Set the application name and port
spring.application.name=API-GATEWAY
server.port=8080

# --- Routes for the Gateway ---

# Route for User Service
spring.cloud.gateway.routes[0].id=user-service-route
spring.cloud.gateway.routes[0].uri=lb://USER-SERVICE
# FIX 1: The Path predicate now correctly matches the incoming URL from the client
spring.cloud.gateway.routes[0].predicates[0]=Path=/USER-SERVICE/**
# FIX 2: This crucial filter removes the '/USER-SERVICE' prefix before forwarding the request
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=1

# Route for Quiz Service
spring.cloud.gateway.routes[1].id=quiz-service-route
spring.cloud.gateway.routes[1].uri=lb://QUIZ-SERVICE
# FIX 1: The Path predicate now correctly matches the incoming URL from the client
spring.cloud.gateway.routes[1].predicates[0]=Path=/QUIZ-SERVICE/**
# FIX 2: This crucial filter removes the '/QUIZ-SERVICE' prefix before forwarding the request
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=1

# --- Eureka Configuration ---
# NOTE: Ensure this port is correct for your Eureka Server (usually 8761)
eureka.client.service-url.defaultZone=http://localhost:8761/eureka
